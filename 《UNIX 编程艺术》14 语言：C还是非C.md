[[《UNIX编程艺术》13 复杂度：尽可能简单，但别简单过了头]]

## 14.1 Unix下语言的丰饶
Unix上运行的语言种类完全可能超过计算史上其它所有操作系统的总和：
- 一是Unix广泛用于研究和教学平台。
- 二是应用设计和实现语言的合理搭配对生产力有极大促进。
现代脚本语言：
在运行期完成解释使得动态存储管理的自动化相对容易，而这几乎要求采用引用（存储地址不透明且无法进行运算）而不是传值或显式指针。使用引用可使下一步更容易实现运行期的多态性和OO。



## 14.2 为什么不是C
然而事实如此；C 和 C++以增加实现时间和（特别是）调试时间为代价来优化效率。尽管以C或C++编写对时间要求极高的系统程序或应用程序内核似乎还有意义



C 和 C++的中心问题在于它们要求程序员自己完成内存管理——声明变量、显式管理链表、设置缓冲大小、检测或防止缓冲溢出，以及分配和回收动态存储.给 C 配备 Boehm-Weiser 实现之类的垃圾收集器，但C本身的设计使它无法成为一个完整的解决方案。


内存管理产生的bug是真实代码持续产生错误的最大单体来源[3]。缓冲溢出是产生崩溃和安全漏洞的常见原因


## 14.3 解释型语言和混合策略
避免手工管理内存的语言通过在运行期可执行体中嵌入一个内存管理器来完成内存管理。



## 14.4 语言评估

### C
尽管存在内存管理问题，但C语言还有一些仍然可以在其中称王称霸的生态环境。要求速度最快并且具有实时需求的程序，或者与 OS 内核紧密联系的程序非常适合用 C编写。
必须在多个操作系统上移植的程序也非常适合用C编写

即使更高级的语言能够满足编程的要求，我们仍然要学习C，其中一个充分理由就是C能帮助我们学会在硬件体系层次上考虑问题

### C++
>>c++协程可以学习下，无栈
>
当C++在1980年代中期面向对象（OO）语言正被大肆吹捧为解决软件复杂度问题的“银弹”。C++面向对象的特性对于其前辈C而言是个压倒性的优点，其拥趸期望C++能够迅速废掉更古老的C语言。

1. 向后兼容C，必须妥协。
2. 阻碍c++自动化动态内存管理
3. OO本身并没有达到期望值（OO方法往往导致厚重胶合层和维护问题）oo 适合游戏设计，gui 等
4. C++对 OO 的实现特别容易产生问题。

C++已经包含了一些重要的非OO概念；
- 它具有和Lisp类似的异常；也就是说，在被处理程序捕捉之前可以沿调用栈向上抛出值或对象
- STL（标准模板库）提供了泛型编程；可以编写独立于数据结构的算法并将其编译而在运行期完成任务。
- C++根本问题是一个传统语言，内存管理十分脆肉，除非代码只使用对象。
- C++ OO 特效不重要，没有多大优势，只是徒增复杂度
>>高效的编译型语言；对C的向上兼容；面向对象的平台；STL和泛型等最前沿的技术工具——C++试图满足所有人的所有要求，但代价是 C++比任何一个程序员所能处理的复杂度都要高。
>

总结：C++的最佳之处是编译效率以及面向对象和泛型编程的结合。最糟之处是它非常怪异复杂，往往鼓励过分复杂的设计。
Qt的C++实现展示了OO语言在封装用户界面构件方面所具有的优势。在支持对象的语言中，通过类实例的分层可在代码中清楚表达出界面窗口部件的可视化分层。



### shell
优点：适合小型脚本
缺点：必须依靠大量辅助命令，目标机器不一定存在


Perl是增强了的shell。它为代替awk（1）而专门设计，并扩展用来代替shell 作为混合语言脚本编程的“胶合剂”使用。
总结：Perl 的最佳之处是作为强力工具以供大量涉及正则表达式匹配的小型胶合脚本使用。最糟之处在于当程序很大时Perl会变得非常丑陋、刻板，几乎无法维护。


### python

Python是一种脚本语言，设计本意是与C语言紧密集成。
- 从动态载入的C库程序中接收数据也可以向其传输数据
- 它也能够在C中作为嵌入脚本语言调用。
执行效率较低，由于运行时多态（动态语言）、
作为补偿，Python特别容易和C结合起来，因此性能关键的Python模块可以很方便地转换成C语言来显著提高速度。Python/C应用程序可以被“冻结”（frozen），准编译成纯C源码，这样就可以移植到没有安装Python的系统上。

- Python鼓励清晰、易读的代码，易学易用，又能够扩展到大型项目。
- 缺点：不仅相对于编译语言，而且相对于其它脚本语言，它效率低下、速度缓慢
- 



### Java
一次编写，到处运行。并且支持并且支持网页中嵌入交互程序（即 applets）
系统和应用编程非常强大，足以挑战 c 和 c++


- 尽管远比C++小巧简单，但Java设计非常聪明地抓住了自动管理内存的巨大优势，也抓住了支持OO设计这一虽小却并非不重要的优点
- java保留了大量的类C语法，大多数程序员对此感觉非常舒服
- 它也包括支持动态载入的C 调用并支持在 C 中把 Java作为嵌入语言调用
- sun 提供了非常好的文档

缺点：（java1.2）
- 某些部分过于复杂
- 某些部分不够完善
- 内部类和匿名类等特征可能会导致非常混乱的代码
- 缺乏可靠的析构方法则意味着内存以外的其它资源，例如互斥（mutex）和文件锁定等，难以保证得到正确管理
- Unix 操作系统的重要功能也无法从Java主体中访问，包括信号、poll和select等。尽管Java的I/O功能非常强大，但文本文件的简单读取并不简单。
- Java没有管理不同库版本的方法。

### 14.4.8 Emacs Lisp



